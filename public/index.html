<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Kae's Study</title>
    <link
      rel="icon"
      type="image/png"
      href="assets/icon/kaes_website_icon.png"
    />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@100;200;300;400;500;600;700;800&display=swap"
      rel="stylesheet"
    />
    <link
      href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;500;600;700;800;900&display=swap"
      rel="stylesheet"
    />
    <link
      href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@300;400;500;600;700&display=swap"
      rel="stylesheet"
    />
    <script src="https://cdn.jsdelivr.net/npm/@tailwindcss/browser@4"></script>
    <script src="https://code.iconify.design/iconify-icon/3.0.0/iconify-icon.min.js"></script>

    <!-- Custom Styles -->
    <link rel="stylesheet" href="css/style.css" />

    <style type="text/tailwindcss">
      @theme inline {
        --color-background: var(--background);
        --color-foreground: var(--foreground);
        --color-primary: var(--primary);
        --color-primary-foreground: var(--primary-foreground);
        --color-secondary: var(--secondary);
        --color-secondary-foreground: var(--secondary-foreground);
        --color-muted: var(--muted);
        --color-muted-foreground: var(--muted-foreground);
        --color-accent: var(--accent);
        --color-accent-foreground: var(--accent-foreground);
        --color-destructive: var(--destructive);
        --color-card: var(--card);
        --color-card-foreground: var(--card-foreground);
        --color-popover: var(--popover);
        --color-popover-foreground: var(--popover-foreground);
        --color-border: var(--border);
        --color-input: var(--input);
        --color-ring: var(--ring);
        --color-chart-1: var(--chart-1);
        --color-chart-2: var(--chart-2);
        --color-chart-3: var(--chart-3);
        --color-chart-4: var(--chart-4);
        --color-chart-5: var(--chart-5);

        --font-font-sans: var(--font-sans);
        --font-font-heading: var(--font-heading);
        --font-font-serif: var(--font-serif);
        --font-font-mono: var(--font-mono);

        --radius-sm: calc(var(--radius) - 4px);
        --radius-md: calc(var(--radius) - 2px);
        --radius-lg: var(--radius);
        --radius-xl: calc(var(--radius) + 4px);
      }

      :root {
        --background: #fdf6e3;
        --foreground: #5c5446;
        --primary: #e17055;
        --primary-foreground: #ffffff;
        --secondary: #ffeaa7;
        --secondary-foreground: #635f48;
        --muted: #eee4cc;
        --muted-foreground: #968e7d;
        --accent: #81ecec;
        --accent-foreground: #3a6d6d;
        --destructive: #ff7675;
        --card: #fffcf5;
        --card-foreground: #5c5446;
        --popover: #fffcf5;
        --popover-foreground: #5c5446;
        --border: #dcd0b3;
        --input: #eee4cc;
        --ring: #e17055;
        --chart-1: #e17055;
        --chart-2: #81ecec;
        --chart-3: #ffeaa7;
        --chart-4: #74b9ff;
        --chart-5: #a29bfe;

        --font-sans: "Space Grotesk";
        --font-heading: "Space Grotesk";
        --font-serif: "Playfair Display";
        --font-mono: "JetBrains Mono";

        --radius: 0rem;
      }

      /* Pixel Art Styles */
      img,
      .pixel-art {
        image-rendering: pixelated;
        image-rendering: -moz-crisp-edges;
        image-rendering: crisp-edges;
      }

      /* Animation pour les sprites (à préparer) */
      @keyframes sprite-animation {
        from {
          background-position-x: 0;
        }
        to {
          background-position-x: -100%;
        }
      }

      .sprite-animated {
        animation: sprite-animation 1s steps(4) infinite;
      }

      /* Scrollbar hide */
      .scrollbar-hide {
        -ms-overflow-style: none;
        scrollbar-width: none;
      }

      .scrollbar-hide::-webkit-scrollbar {
        display: none;
      }

      /* Animation de pulsation pour les boutons actifs */
      @keyframes pulse-glow {
        0%,
        100% {
          box-shadow: 0 0 0 0 rgba(225, 112, 85, 0.7);
        }
        50% {
          box-shadow: 0 0 0 8px rgba(225, 112, 85, 0);
        }
      }

      .sound-btn.active {
        animation: pulse-glow 2s infinite;
      }

      /* Modal Styles */
      .modal-overlay {
        position: fixed;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background: rgba(92, 84, 70, 0.8);
        display: none;
        justify-content: center;
        align-items: center;
        z-index: 1000;
        backdrop-filter: blur(4px);
      }

      .modal-overlay.active {
        display: flex;
      }

      .modal-content {
        background: var(--card);
        border: 4px solid var(--foreground);
        box-shadow: 8px 8px 0px 0px var(--muted-foreground);
        max-width: 400px;
        width: 90%;
        position: relative;
      }

      /* Pixel Checkbox Styles */
      .pixel-checkbox {
        width: 20px;
        height: 20px;
        border: 3px solid var(--foreground);
        background: var(--background);
        cursor: pointer;
        position: relative;
        transition: all 0.1s;
      }

      .pixel-checkbox:hover {
        background: var(--muted);
      }

      .pixel-checkbox.checked {
        background: var(--primary);
      }

      .pixel-checkbox.checked::after {
        content: "";
        position: absolute;
        width: 8px;
        height: 8px;
        background: var(--primary-foreground);
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        box-shadow:
          2px 0 0 0 var(--primary-foreground),
          -2px 0 0 0 var(--primary-foreground),
          0 2px 0 0 var(--primary-foreground),
          0 -2px 0 0 var(--primary-foreground);
      }

      .priority-option {
        cursor: pointer;
        transition: all 0.2s;
      }

      .priority-option:hover {
        transform: translateX(4px);
      }

      .priority-option.selected {
        background: var(--muted);
      }

      /* Pages System */
      .page {
        display: none;
        animation: fadeIn 0.3s ease-in-out;
      }

      .page.active {
        display: block;
      }

      @keyframes fadeIn {
        from {
          opacity: 0;
          transform: translateY(10px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }

      @keyframes slideIn {
        from {
          opacity: 0;
          transform: translateX(100px);
        }
        to {
          opacity: 1;
          transform: translateX(0);
        }
      }

      @keyframes slideOut {
        from {
          opacity: 1;
          transform: translateX(0);
        }
        to {
          opacity: 0;
          transform: translateX(100px);
        }
      }

      @keyframes pulse-glow {
        0%,
        100% {
          box-shadow:
            0 0 5px var(--accent),
            0 0 10px var(--accent);
        }
        50% {
          box-shadow:
            0 0 10px var(--accent),
            0 0 20px var(--accent),
            0 0 30px var(--accent);
        }
      }

      .nav-btn.active {
        color: var(--primary);
      }

      /* Dark Mode Styles */
      :root.dark-mode {
        --background: #1a1a1a;
        --foreground: #f5f5f5;
        --primary: #60a5fa;
        --primary-foreground: #1a1a1a;
        --secondary: #c084fc;
        --secondary-foreground: #1a1a1a;
        --accent: #fbbf24;
        --accent-foreground: #1a1a1a;
        --muted: #3f3f46;
        --muted-foreground: #a1a1aa;
        --border: #52525b;
        --card: #27272a;
      }

      :root.dark-mode .shadow-\[4px_4px_0px_0px_var\(--color-foreground\)\] {
        box-shadow: 4px 4px 0px 0px #f5f5f5;
      }

      :root.dark-mode .shadow-\[3px_3px_0px_0px_var\(--color-foreground\)\] {
        box-shadow: 3px 3px 0px 0px #f5f5f5;
      }
      /* Toggle Styles */
      [data-toggle] {
        position: relative;
        transition: background-color 0.2s;
      }

      [data-toggle].active {
        background-color: var(--accent);
      }

      [data-toggle].active::after {
        content: "✓";
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        font-size: 1.5rem;
        font-weight: bold;
        color: var(--foreground);
      }
    </style>
  </head>
  <body>
    <div
      class="min-h-screen bg-background text-foreground font-sans flex flex-col items-center pb-24 relative overflow-hidden"
    >
      <div class="absolute top-10 left-[-20px] opacity-40 pointer-events-none">
        <iconify-icon
          icon="solar:cloud-bold"
          class="size-24 text-accent"
        ></iconify-icon>
      </div>
      <div class="absolute top-24 right-[-10px] opacity-30 pointer-events-none">
        <iconify-icon
          icon="solar:cloud-bold"
          class="size-16 text-primary/30"
        ></iconify-icon>
      </div>
      <div class="absolute top-60 left-10 opacity-20 pointer-events-none">
        <iconify-icon
          icon="solar:star-bold"
          class="size-8 text-secondary"
        ></iconify-icon>
      </div>
      <header
        class="w-full max-w-md px-6 pt-8 pb-4 flex justify-between items-center z-10"
      >
        <div class="flex items-center gap-2">
          <div
            class="size-10 bg-primary border-4 border-foreground shadow-[4px_4px_0px_0px_var(--color-foreground)] flex items-center justify-center"
          >
            <iconify-icon
              icon="solar:gamepad-bold"
              class="size-6 text-primary-foreground"
            ></iconify-icon>
          </div>
          <div>
            <h1
              class="text-xl font-bold font-heading leading-tight tracking-tight"
            >
              Kae's<br />Study
            </h1>
          </div>
        </div>
        <div class="flex gap-2 sm:gap-3 items-center">
          <button
            id="settingsBtn"
            class="size-10 min-w-10 min-h-10 bg-card border-2 border-border shadow-[2px_2px_0px_0px_var(--color-border)] flex items-center justify-center rounded-full hover:translate-y-[2px] hover:shadow-none transition-all active:translate-y-[2px] focus:outline-none"
          >
            <iconify-icon
              icon="solar:info-circle-bold"
              class="size-5 text-muted-foreground"
            ></iconify-icon>
          </button>
          <button
            id="profileBtn"
            class="size-10 min-w-10 min-h-10 bg-secondary border-2 border-foreground overflow-hidden cursor-pointer rounded-full hover:scale-105 transition-transform focus:outline-none"
          >
            <img
              id="profileImage"
              src=""
              alt="Profile"
              class="w-full h-full object-cover block"
              style="display: none"
            />
          </button>
        </div>
      </header>

      <!-- Room participants (avatars) -->
      <div
        id="roomParticipants"
        class="hidden flex-row gap-2 items-center mb-4"
      ></div>

      <!-- PAGE: FOCUS (Timer & Tasks) -->
      <main
        id="pageFocus"
        class="page active w-full max-w-md px-6 flex flex-col gap-6 z-10"
      >
        <div class="flex justify-between items-end">
          <div>
            <p class="text-sm font-medium text-muted-foreground">
              Ready to grind?
            </p>
            <h2 id="userName" class="text-2xl font-bold text-foreground">
              Student
            </h2>
          </div>
        </div>
        <div
          class="bg-card border-4 border-foreground p-6 shadow-[8px_8px_0px_0px_var(--color-muted-foreground)] relative mt-2"
        >
          <div
            class="absolute -top-2 -left-2 size-4 bg-primary border-2 border-foreground"
          ></div>
          <div
            class="absolute -top-2 -right-2 size-4 bg-primary border-2 border-foreground"
          ></div>
          <div
            class="absolute -bottom-2 -left-2 size-4 bg-primary border-2 border-foreground"
          ></div>
          <div
            class="absolute -bottom-2 -right-2 size-4 bg-primary border-2 border-foreground"
          ></div>
          <div class="flex items-center justify-between gap-3 mb-5">
            <button
              id="inviteBtn"
              class="h-10 px-3 bg-muted text-muted-foreground font-bold border-b-4 border-r-4 border-stone-400 active:border-b-0 active:border-r-0 active:translate-y-1 transition-all flex items-center justify-center gap-2"
              type="button"
            >
              <iconify-icon
                icon="solar:user-plus-bold"
                class="size-5"
              ></iconify-icon>
              INVITE FRIENDS
            </button>
            <div class="flex justify-center gap-4 mb-8">
              <button
                class="px-3 py-1 bg-secondary text-secondary-foreground text-xs font-bold border-2 border-secondary-foreground shadow-[2px_2px_0px_0px_rgba(0,0,0,0.1)]"
                type="button"
              >
                POMODORO
              </button>
              <button
                class="px-3 py-1 bg-transparent text-muted-foreground text-xs font-bold border-2 border-transparent hover:border-border"
                type="button"
              >
                SHORT BREAK
              </button>
              <button
                class="px-3 py-1 bg-transparent text-muted-foreground text-xs font-bold border-2 border-transparent hover:border-border"
                type="button"
              >
                LONG BREAK
              </button>
            </div>
          </div>
          <div class="flex flex-col items-center gap-4">
            <div
              class="text-7xl font-black tracking-tighter text-foreground font-heading"
            >
              25:00
            </div>
            <div class="flex items-center gap-2 text-muted-foreground text-sm">
              <iconify-icon icon="solar:leaf-bold" class="size-4"></iconify-icon
              ><span>Stay focused on the goal</span>
            </div>
            <div class="flex gap-4 mt-4 w-full">
              <button
                class="flex-1 h-14 bg-primary text-primary-foreground font-bold text-lg border-b-4 border-r-4 border-rose-800 active:border-b-0 active:border-r-0 active:translate-y-1 transition-all flex items-center justify-center gap-2"
              >
                <iconify-icon
                  icon="solar:play-bold"
                  class="size-6"
                ></iconify-icon
                >START</button
              ><button
                class="size-14 bg-muted text-muted-foreground font-bold border-b-4 border-r-4 border-stone-400 active:border-b-0 active:border-r-0 active:translate-y-1 transition-all flex items-center justify-center"
              >
                <iconify-icon
                  icon="solar:restart-bold"
                  class="size-6"
                ></iconify-icon>
              </button>
            </div>
          </div>
        </div>
        <!-- Déplacé plus bas -->
        <!-- Grille XP et citation déplacée ici, sous le bloc Quest Log -->
        <div class="grid grid-cols-2 gap-4 mt-6">
          <div
            class="bg-card border-2 border-foreground p-4 shadow-[4px_4px_0px_0px_var(--color-accent)]"
          >
            <h3
              class="text-xs font-bold uppercase tracking-wider text-muted-foreground mb-2"
            >
              Today's XP
            </h3>
            <div class="flex items-baseline gap-1">
              <span class="text-3xl font-black text-foreground">4.5</span
              ><span class="text-sm font-bold text-muted-foreground">hrs</span>
            </div>
            <div class="w-full bg-muted h-2 mt-3 border border-border">
              <div class="bg-accent h-full w-[70%]"></div>
            </div>
          </div>
          <div
            class="bg-primary text-primary-foreground border-2 border-foreground p-4 shadow-[4px_4px_0px_0px_var(--color-foreground)] flex flex-col justify-center items-center text-center relative overflow-hidden"
          >
            <iconify-icon
              icon="mdi:format-quote-close"
              class="absolute top-1 right-1 opacity-20 size-12"
            ></iconify-icon>
            <p
              id="quoteText"
              class="text-xs font-bold leading-relaxed relative z-10"
            >
              "The secret of getting ahead is getting started."
            </p>
          </div>
        </div>
        <div class="flex flex-col gap-3 mt-2">
          <div class="flex justify-between items-center">
            <h3 class="font-bold text-lg flex items-center gap-2">
              <iconify-icon
                icon="solar:clipboard-list-bold"
                class="size-5 text-primary"
              ></iconify-icon
              >Quest Log
            </h3>
            <button
              class="size-8 bg-accent text-accent-foreground border-2 border-foreground flex items-center justify-center shadow-[2px_2px_0px_0px_var(--color-foreground)] active:translate-y-[2px] active:shadow-none add-quest-btn-desktop"
            >
              <iconify-icon
                icon="material-symbols:add-rounded"
                class="size-5"
              ></iconify-icon>
            </button>
          </div>
          <div class="space-y-3">
            <div
              class="group flex items-center gap-3 bg-card p-3 border-2 border-primary shadow-[4px_4px_0px_0px_var(--color-primary)] transition-transform active:translate-x-[2px] active:translate-y-[2px] active:shadow-[2px_2px_0px_0px_var(--color-primary)]"
            >
              <div
                class="size-6 border-2 border-foreground bg-background flex items-center justify-center cursor-pointer"
              ></div>
              <div class="flex-1">
                <p class="font-bold text-sm">Review React Hooks</p>
                <p class="text-xs text-muted-foreground">Due in 2 hrs</p>
              </div>
              <div
                class="px-2 py-0.5 bg-secondary text-[10px] font-bold border border-secondary-foreground text-secondary-foreground"
              >
                HIGH
              </div>
            </div>
            <div
              class="group flex items-center gap-3 bg-muted/30 p-3 border-2 border-border opacity-70"
            >
              <div
                class="size-6 border-2 border-foreground bg-primary flex items-center justify-center"
              >
                <iconify-icon
                  icon="solar:check-read-bold"
                  class="size-4 text-primary-foreground"
                ></iconify-icon>
              </div>
              <div class="flex-1">
                <p class="font-bold text-sm line-through text-muted-foreground">
                  Tailwind Config Setup
                </p>
              </div>
            </div>
            <div
              class="group flex items-center gap-3 bg-card p-3 border-2 border-border shadow-[4px_4px_0px_0px_var(--color-border)]"
            >
              <div
                class="size-6 border-2 border-foreground bg-background flex items-center justify-center cursor-pointer hover:bg-muted"
              ></div>
              <div class="flex-1">
                <p class="font-bold text-sm">Design System Draft</p>
              </div>
            </div>
          </div>
        </div>
      </main>

      <!-- PAGE: STATS (Statistiques) -->
      <main
        id="pageStats"
        class="page w-full max-w-md px-6 flex flex-col gap-6 z-10"
      >
        <div class="flex items-center gap-3 mb-4">
          <div
            class="size-12 bg-chart-2 border-4 border-foreground shadow-[4px_4px_0px_0px_var(--color-foreground)] flex items-center justify-center"
          >
            <iconify-icon
              icon="solar:chart-square-bold"
              class="size-6 text-accent-foreground"
            ></iconify-icon>
          </div>
          <div>
            <h2 class="text-2xl font-bold">STATISTICS</h2>
            <p class="text-sm text-muted-foreground">Your performance</p>
          </div>
        </div>

        <!-- Stats Cards -->
        <div class="grid grid-cols-2 gap-4">
          <!-- Total Sessions -->
          <div
            class="bg-card border-2 border-foreground p-4 shadow-[4px_4px_0px_0px_var(--color-primary)]"
          >
            <div class="flex items-center gap-2 mb-2">
              <iconify-icon
                icon="solar:fire-bold"
                class="size-5 text-primary"
              ></iconify-icon>
              <h3 class="text-xs font-bold uppercase text-muted-foreground">
                Sessions
              </h3>
            </div>
            <p id="stat-sessions" class="text-3xl font-black">0</p>
            <p class="text-xs text-muted-foreground mt-1">This week</p>
          </div>

          <!-- Temps Total -->
          <div
            class="bg-card border-2 border-foreground p-4 shadow-[4px_4px_0px_0px_var(--color-accent)]"
          >
            <div class="flex items-center gap-2 mb-2">
              <iconify-icon
                icon="solar:clock-circle-bold"
                class="size-5 text-chart-4"
              ></iconify-icon>
              <h3 class="text-xs font-bold uppercase text-muted-foreground">
                Time
              </h3>
            </div>
            <p id="stat-time" class="text-3xl font-black">0h</p>
            <p class="text-xs text-muted-foreground mt-1">Total lifetime</p>
          </div>

          <!-- Completed Tasks -->
          <div
            class="bg-card border-2 border-foreground p-4 shadow-[4px_4px_0px_0px_var(--color-secondary)]"
          >
            <div class="flex items-center gap-2 mb-2">
              <iconify-icon
                icon="solar:check-circle-bold"
                class="size-5 text-secondary"
              ></iconify-icon>
              <h3 class="text-xs font-bold uppercase text-muted-foreground">
                Tasks
              </h3>
            </div>
            <p id="stat-tasks" class="text-3xl font-black">0</p>
            <p class="text-xs text-muted-foreground mt-1">Completed</p>
          </div>

          <!-- Streak -->
          <div
            class="bg-primary text-primary-foreground border-2 border-foreground p-4 shadow-[4px_4px_0px_0px_var(--color-foreground)]"
          >
            <div class="flex items-center gap-2 mb-2">
              <iconify-icon
                icon="solar:flame-bold"
                class="size-5"
              ></iconify-icon>
              <h3 class="text-xs font-bold uppercase">Streak</h3>
            </div>
            <p id="stat-streak" class="text-3xl font-black">0</p>
            <p class="text-xs mt-1">days in a row</p>
          </div>
        </div>

        <!-- Weekly Chart (Placeholder) -->
        <div
          class="bg-card border-2 border-foreground p-4 shadow-[4px_4px_0px_0px_var(--color-border)]"
        >
          <h3
            class="text-sm font-bold uppercase tracking-wide text-muted-foreground mb-4 flex items-center gap-2"
          >
            <iconify-icon icon="solar:graph-bold" class="size-5"></iconify-icon>
            This week
          </h3>
          <div
            id="week-chart"
            class="flex items-end justify-between gap-2 h-32"
          >
            <div class="flex-1 flex flex-col items-center gap-2">
              <div
                class="chart-bar w-full bg-chart-2 border-2 border-foreground"
                style="height: 0%"
              ></div>
              <span class="text-xs font-bold">M</span>
            </div>
            <div class="flex-1 flex flex-col items-center gap-2">
              <div
                class="chart-bar w-full bg-chart-2 border-2 border-foreground"
                style="height: 0%"
              ></div>
              <span class="text-xs font-bold">T</span>
            </div>
            <div class="flex-1 flex flex-col items-center gap-2">
              <div
                class="chart-bar w-full bg-chart-2 border-2 border-foreground"
                style="height: 0%"
              ></div>
              <span class="text-xs font-bold">W</span>
            </div>
            <div class="flex-1 flex flex-col items-center gap-2">
              <div
                class="chart-bar w-full bg-chart-2 border-2 border-foreground"
                style="height: 0%"
              ></div>
              <span class="text-xs font-bold">T</span>
            </div>
            <div class="flex-1 flex flex-col items-center gap-2">
              <div
                class="chart-bar w-full bg-chart-2 border-2 border-foreground"
                style="height: 0%"
              ></div>
              <span class="text-xs font-bold">F</span>
            </div>
            <div class="flex-1 flex flex-col items-center gap-2">
              <div
                class="chart-bar w-full bg-chart-2 border-2 border-foreground"
                style="height: 0%"
              ></div>
              <span class="text-xs font-bold">S</span>
            </div>
            <div class="flex-1 flex flex-col items-center gap-2">
              <div
                class="chart-bar w-full bg-chart-2 border-2 border-foreground"
                style="height: 0%"
              ></div>
              <span class="text-xs font-bold">S</span>
            </div>
          </div>
        </div>

        <!-- Bloc badges déplacé plus bas -->
        <!-- Bloc badges déplacé ici, après les autres sections -->
        <div
          class="bg-card border-2 border-foreground p-4 shadow-[4px_4px_0px_0px_var(--color-chart-3)] mt-6"
        >
          <h3
            class="text-sm font-bold uppercase tracking-wide text-muted-foreground mb-3 flex items-center gap-2"
          >
            <iconify-icon
              icon="solar:medal-star-bold"
              class="size-5 text-secondary"
            ></iconify-icon>
            Unlocked badges
          </h3>
          <div class="grid grid-cols-4 gap-3">
            <div
              id="badge-first"
              class="flex flex-col items-center gap-1 opacity-40"
            >
              <div
                class="size-12 bg-secondary border-2 border-foreground flex items-center justify-center"
              >
                <iconify-icon
                  icon="solar:fire-bold"
                  class="size-6 text-primary"
                ></iconify-icon>
              </div>
              <span class="text-[10px] font-bold text-center">First Focus</span>
            </div>
            <div
              id="badge-week"
              class="flex flex-col items-center gap-1 opacity-40"
            >
              <div
                class="size-12 bg-chart-3 border-2 border-foreground flex items-center justify-center"
              >
                <iconify-icon
                  icon="solar:star-bold"
                  class="size-6 text-foreground"
                ></iconify-icon>
              </div>
              <span class="text-[10px] font-bold text-center">7 Days</span>
            </div>
            <div
              id="badge-pro"
              class="flex flex-col items-center gap-1 opacity-40"
            >
              <div
                class="size-12 bg-muted border-2 border-border flex items-center justify-center"
              >
                <iconify-icon
                  icon="solar:trophy-bold"
                  class="size-6 text-muted-foreground"
                ></iconify-icon>
              </div>
              <span class="text-[10px] font-bold text-center">Pro</span>
            </div>
            <div
              id="badge-legend"
              class="flex flex-col items-center gap-1 opacity-40"
            >
              <div
                class="size-12 bg-muted border-2 border-border flex items-center justify-center"
              >
                <iconify-icon
                  icon="solar:crown-bold"
                  class="size-6 text-muted-foreground"
                ></iconify-icon>
              </div>
              <span class="text-[10px] font-bold text-center">Legend</span>
            </div>
          </div>
        </div>
      </main>

      <!-- PAGE: PLAN (Calendrier) -->
      <main
        id="pagePlan"
        class="page w-full max-w-md px-6 flex flex-col gap-6 z-10"
      >
        <div class="flex items-center gap-3 mb-4">
          <div
            class="size-12 bg-chart-3 border-4 border-foreground shadow-[4px_4px_0px_0px_var(--color-foreground)] flex items-center justify-center"
          >
            <iconify-icon
              icon="solar:calendar-bold"
              class="size-6 text-foreground"
            ></iconify-icon>
          </div>
          <div>
            <h2 class="text-2xl font-bold">PLANNING</h2>
            <p class="text-sm text-muted-foreground">Plan your week</p>
          </div>
        </div>

        <!-- Mini Calendrier -->
        <div
          class="bg-card border-2 border-foreground p-4 shadow-[4px_4px_0px_0px_var(--color-border)]"
        >
          <div class="flex justify-between items-center mb-4">
            <h3 id="calendar-month" class="font-bold text-lg">January 2026</h3>
            <div class="flex gap-2">
              <button
                id="prev-month"
                class="size-8 bg-muted border-2 border-border flex items-center justify-center hover:bg-primary hover:text-primary-foreground transition-colors"
              >
                <iconify-icon
                  icon="solar:alt-arrow-left-bold"
                  class="size-4"
                ></iconify-icon>
              </button>
              <button
                id="next-month"
                class="size-8 bg-muted border-2 border-border flex items-center justify-center hover:bg-primary hover:text-primary-foreground transition-colors"
              >
                <iconify-icon
                  icon="solar:alt-arrow-right-bold"
                  class="size-4"
                ></iconify-icon>
              </button>
            </div>
          </div>

          <!-- Days of the week -->
          <div class="grid grid-cols-7 gap-2 mb-2">
            <div class="text-center text-xs font-bold text-muted-foreground">
              M
            </div>
            <div class="text-center text-xs font-bold text-muted-foreground">
              T
            </div>
            <div class="text-center text-xs font-bold text-muted-foreground">
              W
            </div>
            <div class="text-center text-xs font-bold text-muted-foreground">
              T
            </div>
            <div class="text-center text-xs font-bold text-muted-foreground">
              F
            </div>
            <div class="text-center text-xs font-bold text-muted-foreground">
              S
            </div>
            <div class="text-center text-xs font-bold text-muted-foreground">
              S
            </div>
          </div>

          <!-- Dates (générées dynamiquement) -->
          <div id="calendar-dates" class="grid grid-cols-7 gap-2">
            <!-- Dates will be rendered here -->
          </div>
        </div>

        <!-- Événements de la semaine -->
        <div
          class="bg-card border-2 border-foreground p-4 shadow-[4px_4px_0px_0px_var(--color-primary)]"
        >
          <h3
            class="text-sm font-bold uppercase tracking-wide text-muted-foreground mb-3 flex items-center gap-2"
          >
            <iconify-icon
              icon="solar:calendar-date-bold"
              class="size-5"
            ></iconify-icon>
            This week
          </h3>
          <div id="week-events" class="space-y-3">
            <!-- Events will be rendered here -->
          </div>
          <button
            onclick="planningManager.openAddEventModal()"
            class="mt-4 w-full px-4 py-2 bg-primary text-primary-foreground border-2 border-foreground font-bold text-sm hover:translate-x-[2px] hover:translate-y-[2px] hover:shadow-none shadow-[3px_3px_0px_0px_var(--color-foreground)] transition-all"
          >
            + Add Event
          </button>
        </div>

        <!-- Objectifs hebdo -->
        <div
          class="bg-secondary text-secondary-foreground border-2 border-foreground p-4 shadow-[4px_4px_0px_0px_var(--color-foreground)]"
        >
          <h3
            class="text-sm font-bold uppercase tracking-wide mb-3 flex items-center gap-2 justify-between"
          >
            <span class="flex items-center gap-2">
              <iconify-icon
                icon="solar:target-bold"
                class="size-5"
              ></iconify-icon>
              Weekly Goals
            </span>
            <button
              id="addGoalBtn"
              class="px-2 py-1 bg-primary text-primary-foreground text-xs border border-foreground shadow-[2px_2px_0px_0px_var(--color-foreground)] hover:translate-y-[1px] hover:shadow-none transition-all"
              title="Add a goal"
            >
              <iconify-icon
                icon="solar:add-circle-bold"
                class="size-4"
              ></iconify-icon>
            </button>
          </h3>
          <div id="weekly-goals" class="space-y-2">
            <!-- Goals will be rendered here -->
          </div>
        </div>
      </main>

      <!-- PAGE: PROFILE (Profil utilisateur) -->
      <main
        id="pageProfile"
        class="page w-full max-w-md px-6 flex flex-col gap-6 z-10"
      >
        <div class="flex items-center gap-3 mb-4">
          <div
            class="size-12 bg-primary border-4 border-foreground shadow-[4px_4px_0px_0px_var(--color-foreground)] flex items-center justify-center"
          >
            <iconify-icon
              icon="solar:user-bold"
              class="size-6 text-primary-foreground"
            ></iconify-icon>
          </div>
          <div>
            <h2 class="text-2xl font-bold">PROFILE</h2>
            <p class="text-sm text-muted-foreground">Your personal space</p>
          </div>
        </div>

        <!-- Carte Profil -->
        <div
          class="bg-card border-2 border-foreground p-6 shadow-[4px_4px_0px_0px_var(--color-primary)] relative overflow-hidden"
        >
          <div class="absolute top-0 right-0 opacity-10">
            <iconify-icon
              icon="solar:user-bold"
              class="size-32 text-primary"
            ></iconify-icon>
          </div>
          <div class="relative z-10 flex flex-col items-center gap-4">
            <div
              class="size-24 bg-secondary border-4 border-foreground overflow-hidden flex items-center justify-center"
            >
              <img
                id="profileImageLarge"
                src=""
                alt="Profile"
                class="w-full h-full object-cover"
                style="display: none"
              />
              <iconify-icon
                id="profileIconPlaceholder"
                icon="solar:user-bold"
                class="size-12 text-secondary-foreground"
              ></iconify-icon>
            </div>
            <div class="text-center">
              <h3 id="userNameLarge" class="text-xl font-black">Student</h3>
              <p class="text-sm text-muted-foreground user-title">
                Future Winner
              </p>
            </div>
            <button
              id="editProfileBtn"
              class="px-4 py-2 bg-accent text-accent-foreground font-bold border-2 border-foreground shadow-[2px_2px_0px_0px_var(--color-foreground)] hover:translate-y-[2px] hover:shadow-none transition-all"
            >
              <iconify-icon
                icon="solar:pen-bold"
                class="size-4 inline"
              ></iconify-icon>
              EDIT
            </button>
          </div>
        </div>

        <!-- Stats Profil -->
        <div class="grid grid-cols-3 gap-3">
          <div class="bg-card border-2 border-foreground p-3 text-center">
            <p id="profileLevel" class="text-2xl font-black text-primary">1</p>
            <p class="text-xs font-bold text-muted-foreground mt-1">Level</p>
          </div>
          <div class="bg-card border-2 border-foreground p-3 text-center">
            <p id="profileTasks" class="text-2xl font-black text-chart-2">0</p>
            <p class="text-xs font-bold text-muted-foreground mt-1">Tasks</p>
          </div>
          <div class="bg-card border-2 border-foreground p-3 text-center">
            <p id="profileFocusTime" class="text-2xl font-black text-secondary">
              0h
            </p>
            <p class="text-xs font-bold text-muted-foreground mt-1">Focus</p>
          </div>
        </div>

        <!-- Preferences -->
        <div
          class="bg-card border-2 border-foreground p-4 shadow-[4px_4px_0px_0px_var(--color-border)]"
        >
          <h3
            class="text-sm font-bold uppercase tracking-wide text-muted-foreground mb-3 flex items-center gap-2"
          >
            <iconify-icon
              icon="solar:settings-bold"
              class="size-5"
            ></iconify-icon>
            Preferences
          </h3>
          <div class="space-y-3">
            <div
              class="flex justify-between items-center p-2 bg-background border border-border cursor-pointer"
              onclick="profileManager.toggleNotifications()"
            >
              <span class="text-sm font-bold">Notifications</span>
              <div class="size-10 border-2" data-toggle="notifications"></div>
            </div>
            <div
              class="flex justify-between items-center p-2 bg-background border border-border cursor-pointer"
              onclick="profileManager.toggleDarkMode()"
            >
              <span class="text-sm font-bold">Mode Focus</span>
              <div class="size-10 border-2" data-toggle="darkMode"></div>
            </div>
          </div>
        </div>

        <!-- Paramètres Timer -->
        <div
          class="bg-card border-2 border-foreground p-4 shadow-[4px_4px_0px_0px_var(--color-chart-3)]"
        >
          <h3
            class="text-sm font-bold uppercase tracking-wide text-muted-foreground mb-3 flex items-center gap-2"
          >
            <iconify-icon
              icon="solar:clock-circle-bold"
              class="size-5"
            ></iconify-icon>
            Timer Pomodoro
          </h3>
          <div class="space-y-3">
            <div class="flex justify-between items-center">
              <span class="text-sm font-bold">Pomodoro</span>
              <div class="flex items-center gap-2">
                <button
                  onclick="profileManager.updateTimerDuration('pomodoro', -1)"
                  class="size-8 bg-muted border-2 border-border flex items-center justify-center hover:bg-border transition-colors"
                >
                  -
                </button>
                <span
                  id="pomodoroDuration"
                  class="text-lg font-black w-12 text-center"
                  >25</span
                >
                <button
                  onclick="profileManager.updateTimerDuration('pomodoro', 1)"
                  class="size-8 bg-muted border-2 border-border flex items-center justify-center hover:bg-border transition-colors"
                >
                  +
                </button>
              </div>
            </div>
            <div class="flex justify-between items-center">
              <span class="text-sm font-bold">Short Break</span>
              <div class="flex items-center gap-2">
                <button
                  onclick="profileManager.updateTimerDuration('short', -1)"
                  class="size-8 bg-muted border-2 border-border flex items-center justify-center hover:bg-border transition-colors"
                >
                  -
                </button>
                <span
                  id="shortBreakDuration"
                  class="text-lg font-black w-12 text-center"
                  >5</span
                >
                <button
                  onclick="profileManager.updateTimerDuration('short', 1)"
                  class="size-8 bg-muted border-2 border-border flex items-center justify-center hover:bg-border transition-colors"
                >
                  +
                </button>
              </div>
            </div>
            <div class="flex justify-between items-center">
              <span class="text-sm font-bold">Long Break</span>
              <div class="flex items-center gap-2">
                <button
                  onclick="profileManager.updateTimerDuration('long', -1)"
                  class="size-8 bg-muted border-2 border-border flex items-center justify-center hover:bg-border transition-colors"
                >
                  -
                </button>
                <span
                  id="longBreakDuration"
                  class="text-lg font-black w-12 text-center"
                  >15</span
                >
                <button
                  onclick="profileManager.updateTimerDuration('long', 1)"
                  class="size-8 bg-muted border-2 border-border flex items-center justify-center hover:bg-border transition-colors"
                >
                  +
                </button>
              </div>
            </div>
          </div>
        </div>

        <!-- Actions -->
        <div class="space-y-3">
          <button
            onclick="profileManager.exportData()"
            class="w-full h-12 bg-muted text-foreground font-bold border-2 border-border flex items-center justify-center gap-2 hover:bg-border transition-colors"
          >
            EXPORT DATA
          </button>
          <button
            onclick="profileManager.resetData()"
            class="w-full h-12 bg-destructive text-white font-bold border-2 border-foreground flex items-center justify-center gap-2 hover:opacity-80 transition-opacity"
          >
            RESET
          </button>
        </div>
      </main>

      <div
        class="fixed bottom-0 left-0 right-0 bg-background border-t-4 border-foreground z-50 px-6 py-4 flex justify-between items-center"
      >
        <button
          class="nav-btn flex flex-col items-center gap-1 text-primary"
          data-page="focus"
        >
          <iconify-icon
            icon="solar:clock-square-bold"
            class="size-6"
          ></iconify-icon
          ><span class="text-[10px] font-bold uppercase tracking-wide"
            >Focus</span
          ></button
        ><button
          class="nav-btn flex flex-col items-center gap-1 text-muted-foreground hover:text-foreground"
          data-page="stats"
        >
          <iconify-icon
            icon="solar:chart-square-bold"
            class="size-6"
          ></iconify-icon
          ><span class="text-[10px] font-bold uppercase tracking-wide"
            >Stats</span
          >
        </button>
        <div class="relative -top-8">
          <button
            id="quickAddBtn"
            class="size-16 bg-accent border-4 border-foreground shadow-[4px_4px_0px_0px_var(--color-foreground)] flex items-center justify-center rounded-full active:translate-y-1 active:shadow-[2px_2px_0px_0px_var(--color-foreground)] transition-all"
          >
            <iconify-icon
              icon="solar:add-circle-bold"
              class="size-8 text-accent-foreground"
            ></iconify-icon>
          </button>
        </div>
        <button
          class="nav-btn flex flex-col items-center gap-1 text-muted-foreground hover:text-foreground"
          data-page="plan"
        >
          <iconify-icon icon="solar:calendar-bold" class="size-6"></iconify-icon
          ><span class="text-[10px] font-bold uppercase tracking-wide"
            >Plan</span
          >
        </button>

        <button
          class="nav-btn flex flex-col items-center gap-1 text-muted-foreground hover:text-foreground"
          data-page="profile"
        >
          <iconify-icon icon="solar:user-bold" class="size-6"></iconify-icon
          ><span class="text-[10px] font-bold uppercase tracking-wide"
            >Profile</span
          >
        </button>
      </div>
    </div>

    <!-- Info / About Modal -->
    <div id="infoModal" class="modal-overlay">
      <div class="modal-content max-w-md">
        <!-- Header -->
        <div
          class="bg-secondary text-secondary-foreground p-4 border-b-4 border-foreground flex justify-between items-center"
        >
          <div class="flex items-center gap-2">
            <iconify-icon
              icon="solar:info-circle-bold"
              class="size-6"
            ></iconify-icon>
            <h3 class="font-bold text-lg">ABOUT</h3>
          </div>
          <button
            id="closeInfoModal"
            class="size-8 bg-destructive border-2 border-foreground flex items-center justify-center hover:scale-110 transition-transform"
            type="button"
          >
            <iconify-icon
              icon="solar:close-circle-bold"
              class="size-5 text-white"
            ></iconify-icon>
          </button>
        </div>

        <!-- Body -->
        <div class="p-6 space-y-5">
          <div class="space-y-2">
            <p class="font-black text-foreground text-lg">Kae's Study</p>
            <p class="text-sm font-bold text-muted-foreground">
              A simple study setup: focus timer, tasks, planning, stats,
              profile.
            </p>
          </div>

          <div class="space-y-2">
            <p
              class="text-xs font-bold uppercase tracking-wider text-muted-foreground"
            >
              What you can do
            </p>
            <div
              class="grid grid-cols-1 gap-2 text-sm font-bold text-foreground"
            >
              <div class="border-2 border-border bg-background px-3 py-2">
                Focus: Pomodoro timer
              </div>
              <div class="border-2 border-border bg-background px-3 py-2">
                Quest Log: manage tasks
              </div>
              <div class="border-2 border-border bg-background px-3 py-2">
                Plan: goals + calendar
              </div>
              <div class="border-2 border-border bg-background px-3 py-2">
                Stats: track progress
              </div>
              <div class="border-2 border-border bg-background px-3 py-2">
                Study Group: invite link, synced timer, participants
              </div>
            </div>
          </div>

          <div class="space-y-2">
            <p
              class="text-xs font-bold uppercase tracking-wider text-muted-foreground"
            >
              Privacy
            </p>
            <div class="border-2 border-border bg-background p-3">
              <p class="text-sm font-bold text-foreground">
                No account. No database.
              </p>
              <p class="text-sm font-bold text-muted-foreground mt-1">
                Your profile, tasks, planning and stats are stored locally in
                your browser (localStorage).
              </p>
              <p class="text-sm font-bold text-muted-foreground mt-2">
                If you join a room, the server only keeps the room timer +
                participant list in memory while people are connected. Nothing
                is saved after a server restart.
              </p>
            </div>
          </div>
        </div>

        <!-- Footer -->
        <div class="p-4 border-t-2 border-border">
          <button
            id="closeInfoModalFooter"
            class="w-full h-12 bg-card text-foreground font-bold border-b-4 border-r-4 border-stone-400 active:border-b-0 active:border-r-0 active:translate-y-1 transition-all flex items-center justify-center gap-2"
            type="button"
          >
            CLOSE
          </button>
        </div>
      </div>
    </div>

    <!-- Modal pour créer un événement -->
    <div id="eventModal" class="modal-overlay">
      <div class="modal-content">
        <!-- Header -->
        <div
          class="bg-primary text-primary-foreground p-4 border-b-4 border-foreground flex justify-between items-center"
        >
          <div class="flex items-center gap-2">
            <iconify-icon
              icon="solar:calendar-add-bold"
              class="size-6"
            ></iconify-icon>
            <h3 class="font-bold text-lg">NEW EVENT</h3>
          </div>
          <button
            id="closeEventModal"
            class="size-8 bg-destructive border-2 border-foreground flex items-center justify-center hover:scale-110 transition-transform"
          >
            <iconify-icon
              icon="solar:close-circle-bold"
              class="size-5 text-white"
            ></iconify-icon>
          </button>
        </div>

        <!-- Body -->
        <div class="p-6 space-y-4">
          <!-- Titre -->
          <div>
            <label
              class="block text-sm font-bold uppercase tracking-wide text-muted-foreground mb-2"
            >
              <iconify-icon icon="solar:pen-bold" class="size-4"></iconify-icon>
              Event title
            </label>
            <input
              id="eventTitleInput"
              type="text"
              placeholder="e.g., Team meeting..."
              class="w-full px-4 py-3 border-3 border-foreground bg-background text-foreground font-bold focus:outline-none focus:border-primary transition-colors"
            />
          </div>

          <!-- Heure -->
          <div>
            <label
              class="block text-sm font-bold uppercase tracking-wide text-muted-foreground mb-2"
            >
              <iconify-icon
                icon="solar:clock-circle-bold"
                class="size-4"
              ></iconify-icon>
              Time
            </label>
            <select
              id="eventTimeInput"
              class="w-full px-4 py-3 border-3 border-foreground bg-background text-foreground font-bold focus:outline-none focus:border-primary transition-colors"
            >
              <option value="">Select a time</option>
              <option value="08:00 - 09:00">08:00 - 09:00</option>
              <option value="09:00 - 10:00">09:00 - 10:00</option>
              <option value="10:00 - 11:00">10:00 - 11:00</option>
              <option value="11:00 - 12:00">11:00 - 12:00</option>
              <option value="12:00 - 13:00">12:00 - 13:00</option>
              <option value="13:00 - 14:00">13:00 - 14:00</option>
              <option value="14:00 - 15:00">14:00 - 15:00</option>
              <option value="15:00 - 16:00">15:00 - 16:00</option>
              <option value="16:00 - 17:00">16:00 - 17:00</option>
              <option value="17:00 - 18:00">17:00 - 18:00</option>
              <option value="18:00 - 19:00">18:00 - 19:00</option>
              <option value="19:00 - 20:00">19:00 - 20:00</option>
              <option value="20:00 - 21:00">20:00 - 21:00</option>
              <option value="21:00 - 22:00">21:00 - 22:00</option>
            </select>
          </div>

          <!-- Color -->
          <div>
            <label
              class="block text-sm font-bold uppercase tracking-wide text-muted-foreground mb-3"
            >
              <iconify-icon
                icon="solar:palette-bold"
                class="size-4"
              ></iconify-icon>
              Color
            </label>
            <div class="space-y-2">
              <!-- PRIMARY -->
              <div
                class="color-option flex items-center gap-3 p-3 border-2 border-border selected"
                data-color="primary"
              >
                <div class="pixel-checkbox checked" data-color="primary"></div>
                <div class="size-4 bg-primary border-2 border-foreground"></div>
                <span class="font-bold text-sm">Blue</span>
              </div>

              <!-- CHART-2 -->
              <div
                class="color-option flex items-center gap-3 p-3 border-2 border-border"
                data-color="chart-2"
              >
                <div class="pixel-checkbox" data-color="chart-2"></div>
                <div class="size-4 bg-chart-2 border-2 border-foreground"></div>
                <span class="font-bold text-sm">Green</span>
              </div>

              <!-- CHART-3 -->
              <div
                class="color-option flex items-center gap-3 p-3 border-2 border-border"
                data-color="chart-3"
              >
                <div class="pixel-checkbox" data-color="chart-3"></div>
                <div class="size-4 bg-chart-3 border-2 border-foreground"></div>
                <span class="font-bold text-sm">Orange</span>
              </div>

              <!-- SECONDARY -->
              <div
                class="color-option flex items-center gap-3 p-3 border-2 border-border"
                data-color="secondary"
              >
                <div class="pixel-checkbox" data-color="secondary"></div>
                <div
                  class="size-4 bg-secondary border-2 border-foreground"
                ></div>
                <span class="font-bold text-sm">Purple</span>
              </div>
            </div>
          </div>
        </div>

        <!-- Footer -->
        <div class="p-4 bg-muted/30 border-t-4 border-foreground flex gap-3">
          <button
            id="cancelEventBtn"
            class="flex-1 px-4 py-3 bg-background text-foreground border-2 border-foreground font-bold text-sm hover:translate-x-[2px] hover:translate-y-[2px] hover:shadow-none shadow-[3px_3px_0px_0px_var(--color-foreground)] transition-all"
          >
            CANCEL
          </button>
          <button
            id="createEventBtn"
            class="flex-1 px-4 py-3 bg-primary text-primary-foreground border-2 border-foreground font-bold text-sm hover:translate-x-[2px] hover:translate-y-[2px] hover:shadow-none shadow-[3px_3px_0px_0px_var(--color-foreground)] transition-all"
          >
            CREATE
          </button>
        </div>
      </div>
    </div>

    <!-- Modal pour ajouter un objectif -->
    <div id="goalModal" class="modal-overlay">
      <div class="modal-content max-w-md">
        <!-- Header -->
        <div
          class="bg-accent text-accent-foreground p-4 border-b-4 border-foreground flex justify-between items-center"
        >
          <div class="flex items-center gap-2">
            <iconify-icon
              icon="solar:target-bold"
              class="size-6"
            ></iconify-icon>
            <h3 class="font-bold text-lg">NEW GOAL</h3>
          </div>
          <button
            id="closeGoalModal"
            class="size-8 bg-destructive border-2 border-foreground flex items-center justify-center hover:scale-110 transition-transform"
          >
            <iconify-icon
              icon="solar:close-circle-bold"
              class="size-5 text-white"
            ></iconify-icon>
          </button>
        </div>

        <!-- Body -->
        <div class="p-6 space-y-4">
          <!-- Titre -->
          <div>
            <label
              class="block text-sm font-bold uppercase tracking-wide text-muted-foreground mb-2"
            >
              <iconify-icon icon="solar:pen-bold" class="size-4"></iconify-icon>
              Weekly goal
            </label>
            <input
              id="goalTextInput"
              type="text"
              placeholder="e.g., 20h focus, 15 tasks..."
              class="w-full px-4 py-3 border-3 border-foreground bg-background text-foreground font-bold focus:outline-none focus:border-accent transition-colors"
            />
          </div>
        </div>

        <!-- Footer -->
        <div class="p-4 bg-muted/30 border-t-4 border-foreground flex gap-3">
          <button
            id="cancelGoalBtn"
            class="flex-1 px-4 py-3 bg-background text-foreground border-2 border-foreground font-bold text-sm hover:translate-x-[2px] hover:translate-y-[2px] hover:shadow-none shadow-[3px_3px_0px_0px_var(--color-foreground)] transition-all"
          >
            CANCEL
          </button>
          <button
            id="createGoalBtn"
            class="flex-1 px-4 py-3 bg-accent text-accent-foreground border-2 border-foreground font-bold text-sm hover:translate-x-[2px] hover:translate-y-[2px] hover:shadow-none shadow-[3px_3px_0px_0px_var(--color-foreground)] transition-all"
          >
            ADD
          </button>
        </div>
      </div>
    </div>

    <!-- Modal pour éditer le profil -->
    <div id="profileModal" class="modal-overlay">
      <div class="modal-content">
        <!-- Header -->
        <div
          class="bg-primary text-primary-foreground p-4 border-b-4 border-foreground flex justify-between items-center"
        >
          <div class="flex items-center gap-2">
            <iconify-icon
              icon="solar:user-id-bold"
              class="size-6"
            ></iconify-icon>
            <h3 class="font-bold text-lg">EDIT PROFILE</h3>
          </div>
          <button
            id="closeProfileModal"
            class="size-8 bg-destructive border-2 border-foreground flex items-center justify-center hover:scale-110 transition-transform"
          >
            <iconify-icon
              icon="solar:close-circle-bold"
              class="size-5 text-white"
            ></iconify-icon>
          </button>
        </div>

        <!-- Body -->
        <div class="p-6 space-y-4">
          <!-- Nom -->
          <div>
            <label
              class="block text-sm font-bold uppercase tracking-wide text-muted-foreground mb-2"
            >
              <iconify-icon
                icon="solar:user-bold"
                class="size-4"
              ></iconify-icon>
              Name / Username
            </label>
            <input
              id="profileNameInput"
              type="text"
              placeholder="Ex: Student..."
              class="w-full px-4 py-3 border-3 border-foreground bg-background text-foreground font-bold focus:outline-none focus:border-primary transition-colors"
            />
          </div>

          <!-- Titre -->
          <div>
            <label
              class="block text-sm font-bold uppercase tracking-wide text-muted-foreground mb-2"
            >
              <iconify-icon
                icon="solar:medal-star-bold"
                class="size-4"
              ></iconify-icon>
              Title / Bio
            </label>
            <input
              id="profileTitleInput"
              type="text"
              placeholder="Based on your streak..."
              class="w-full px-4 py-3 border-3 border-foreground bg-background text-foreground font-bold focus:outline-none focus:border-primary transition-colors"
              readonly
            />
            <p class="text-xs text-muted-foreground mt-1">
              Your title evolves with your streak.
            </p>
          </div>

          <!-- Avatar -->
          <div>
            <label
              class="block text-sm font-bold uppercase tracking-wide text-muted-foreground mb-3"
            >
              <iconify-icon
                icon="solar:camera-bold"
                class="size-4"
              ></iconify-icon>
              Avatar
            </label>
            <div class="space-y-2 max-h-64 overflow-y-auto">
              <!-- Avatar par défaut -->
              <div
                class="avatar-option flex items-center gap-3 p-3 border-2 border-border selected cursor-pointer"
                data-avatar=""
              >
                <div class="pixel-checkbox checked" data-avatar=""></div>
                <div
                  class="size-12 bg-secondary border-2 border-foreground flex items-center justify-center"
                >
                  <iconify-icon
                    icon="solar:user-bold"
                    class="size-6 text-secondary-foreground"
                  ></iconify-icon>
                </div>
                <span class="font-bold text-sm">No avatar</span>
              </div>

              <!-- Avatars prédéfinis -->
              <div
                class="avatar-option flex items-center gap-3 p-3 border-2 border-border cursor-pointer hover:bg-muted/30 transition-colors"
                data-avatar="pfps/1.jpg"
              >
                <div class="pixel-checkbox" data-avatar="pfps/1.jpg"></div>
                <img
                  src="pfps/1.jpg"
                  alt="Avatar 1"
                  class="size-12 border-2 border-foreground object-cover"
                />
                <span class="font-bold text-sm">Avatar 1</span>
              </div>

              <div
                class="avatar-option flex items-center gap-3 p-3 border-2 border-border cursor-pointer hover:bg-muted/30 transition-colors"
                data-avatar="pfps/2.jpg"
              >
                <div class="pixel-checkbox" data-avatar="pfps/2.jpg"></div>
                <img
                  src="pfps/2.jpg"
                  alt="Avatar 2"
                  class="size-12 border-2 border-foreground object-cover"
                />
                <span class="font-bold text-sm">Avatar 2</span>
              </div>

              <div
                class="avatar-option flex items-center gap-3 p-3 border-2 border-border cursor-pointer hover:bg-muted/30 transition-colors"
                data-avatar="pfps/3.jpg"
              >
                <div class="pixel-checkbox" data-avatar="pfps/3.jpg"></div>
                <img
                  src="pfps/3.jpg"
                  alt="Avatar 3"
                  class="size-12 border-2 border-foreground object-cover"
                />
                <span class="font-bold text-sm">Avatar 3</span>
              </div>

              <div
                class="avatar-option flex items-center gap-3 p-3 border-2 border-border cursor-pointer hover:bg-muted/30 transition-colors"
                data-avatar="pfps/4.jpg"
              >
                <div class="pixel-checkbox" data-avatar="pfps/4.jpg"></div>
                <img
                  src="pfps/4.jpg"
                  alt="Avatar 4"
                  class="size-12 border-2 border-foreground object-cover"
                />
                <span class="font-bold text-sm">Avatar 4</span>
              </div>

              <div
                class="avatar-option flex items-center gap-3 p-3 border-2 border-border cursor-pointer hover:bg-muted/30 transition-colors"
                data-avatar="pfps/5.jpg"
              >
                <div class="pixel-checkbox" data-avatar="pfps/5.jpg"></div>
                <img
                  src="pfps/5.jpg"
                  alt="Avatar 5"
                  class="size-12 border-2 border-foreground object-cover"
                />
                <span class="font-bold text-sm">Avatar 5</span>
              </div>

              <div
                class="avatar-option flex items-center gap-3 p-3 border-2 border-border cursor-pointer hover:bg-muted/30 transition-colors"
                data-avatar="pfps/6.jpg"
              >
                <div class="pixel-checkbox" data-avatar="pfps/6.jpg"></div>
                <img
                  src="pfps/6.jpg"
                  alt="Avatar 6"
                  class="size-12 border-2 border-foreground object-cover"
                />
                <span class="font-bold text-sm">Avatar 6</span>
              </div>

              <!-- Upload depuis PC -->
              <div class="border-2 border-dashed border-border p-3">
                <label
                  for="avatarUpload"
                  class="flex items-center gap-3 cursor-pointer hover:bg-muted/30 transition-colors p-2"
                >
                  <iconify-icon
                    icon="solar:upload-bold"
                    class="size-6 text-primary"
                  ></iconify-icon>
                  <span class="font-bold text-sm">Upload from my computer</span>
                </label>
                <input
                  id="avatarUpload"
                  type="file"
                  accept="image/*"
                  class="hidden"
                />
              </div>
            </div>
          </div>

          <!-- City -->
          <div>
            <label
              class="block text-sm font-bold uppercase tracking-wide text-muted-foreground mb-2"
            >
              <iconify-icon
                icon="solar:map-point-bold"
                class="size-4"
              ></iconify-icon>
              City
            </label>
            <input
              id="profileCityInput"
              type="text"
              placeholder="e.g., Paris..."
              class="w-full px-4 py-3 border-3 border-foreground bg-background text-foreground font-bold focus:outline-none focus:border-primary transition-colors"
            />
          </div>
        </div>

        <!-- Footer -->
        <div class="p-4 bg-muted/30 border-t-4 border-foreground flex gap-3">
          <button
            id="cancelProfileBtn"
            class="flex-1 px-4 py-3 bg-background text-foreground border-2 border-foreground font-bold text-sm hover:translate-x-[2px] hover:translate-y-[2px] hover:shadow-none shadow-[3px_3px_0px_0px_var(--color-foreground)] transition-all"
          >
            CANCEL
          </button>
          <button
            id="saveProfileBtn"
            class="flex-1 px-4 py-3 bg-primary text-primary-foreground border-2 border-foreground font-bold text-sm hover:translate-x-[2px] hover:translate-y-[2px] hover:shadow-none shadow-[3px_3px_0px_0px_var(--color-foreground)] transition-all"
          >
            SAVE
          </button>
        </div>
      </div>
    </div>

    <!-- Modal to create a quest -->
    <div id="taskModal" class="modal-overlay">
      <div class="modal-content">
        <!-- Header -->
        <div
          class="bg-primary text-primary-foreground p-4 border-b-4 border-foreground flex justify-between items-center"
        >
          <div class="flex items-center gap-2">
            <iconify-icon
              icon="solar:clipboard-add-bold"
              class="size-6"
            ></iconify-icon>
            <h3 class="font-bold text-lg">NEW QUEST</h3>
          </div>
          <button
            id="closeModal"
            class="size-8 bg-destructive border-2 border-foreground flex items-center justify-center hover:scale-110 transition-transform"
          >
            <iconify-icon
              icon="solar:close-circle-bold"
              class="size-5 text-white"
            ></iconify-icon>
          </button>
        </div>

        <!-- Body -->
        <div class="p-6 space-y-4">
          <!-- Task name -->
          <div>
            <label
              class="block text-sm font-bold uppercase tracking-wide text-muted-foreground mb-2"
            >
              <iconify-icon icon="solar:pen-bold" class="size-4"></iconify-icon>
              Task name
            </label>
            <input
              id="taskNameInput"
              type="text"
              placeholder="e.g., Review React Hooks..."
              class="w-full px-4 py-3 border-3 border-foreground bg-background text-foreground font-bold focus:outline-none focus:border-primary transition-colors"
            />
          </div>

          <!-- Priority -->
          <div>
            <label
              class="block text-sm font-bold uppercase tracking-wide text-muted-foreground mb-3"
            >
              <iconify-icon
                icon="solar:fire-bold"
                class="size-4"
              ></iconify-icon>
              Priority
            </label>
            <div class="space-y-2">
              <!-- HIGH -->
              <div
                class="priority-option flex items-center gap-3 p-3 border-2 border-border"
                data-priority="HIGH"
              >
                <div class="pixel-checkbox" data-priority="HIGH"></div>
                <div class="flex-1">
                  <div class="flex items-center gap-2">
                    <span class="font-bold text-sm">HIGH</span>
                    <div
                      class="px-2 py-0.5 bg-secondary text-secondary-foreground text-[10px] font-bold border border-secondary-foreground"
                    >
                      URGENT
                    </div>
                  </div>
                  <p class="text-xs text-muted-foreground">Do first</p>
                </div>
                <iconify-icon
                  icon="solar:danger-triangle-bold"
                  class="size-5 text-primary"
                ></iconify-icon>
              </div>

              <!-- MEDIUM -->
              <div
                class="priority-option flex items-center gap-3 p-3 border-2 border-border selected"
                data-priority="MEDIUM"
              >
                <div
                  class="pixel-checkbox checked"
                  data-priority="MEDIUM"
                ></div>
                <div class="flex-1">
                  <div class="flex items-center gap-2">
                    <span class="font-bold text-sm">MEDIUM</span>
                    <div
                      class="px-2 py-0.5 bg-chart-3 text-foreground text-[10px] font-bold border border-foreground"
                    >
                      NORMAL
                    </div>
                  </div>
                  <p class="text-xs text-muted-foreground">Standard task</p>
                </div>
                <iconify-icon
                  icon="solar:star-bold"
                  class="size-5 text-chart-3"
                ></iconify-icon>
              </div>

              <!-- LOW -->
              <div
                class="priority-option flex items-center gap-3 p-3 border-2 border-border"
                data-priority="LOW"
              >
                <div class="pixel-checkbox" data-priority="LOW"></div>
                <div class="flex-1">
                  <div class="flex items-center gap-2">
                    <span class="font-bold text-sm">LOW</span>
                    <div
                      class="px-2 py-0.5 bg-muted text-muted-foreground text-[10px] font-bold border border-muted-foreground"
                    >
                      LATER
                    </div>
                  </div>
                  <p class="text-xs text-muted-foreground">Not urgent</p>
                </div>
                <iconify-icon
                  icon="solar:clock-circle-bold"
                  class="size-5 text-muted-foreground"
                ></iconify-icon>
              </div>
            </div>
          </div>
        </div>

        <!-- Footer -->
        <div class="p-4 border-t-2 border-border flex gap-3">
          <button
            id="cancelTask"
            class="flex-1 h-12 bg-muted text-muted-foreground font-bold border-2 border-border hover:bg-border transition-colors"
          >
            CANCEL
          </button>
          <button
            id="createTask"
            class="flex-1 h-12 bg-accent text-accent-foreground font-bold border-b-4 border-r-4 border-teal-700 active:border-b-0 active:border-r-0 active:translate-y-1 transition-all flex items-center justify-center gap-2"
          >
            <iconify-icon
              icon="solar:add-circle-bold"
              class="size-5"
            ></iconify-icon>
            CREATE
          </button>
        </div>
      </div>
    </div>

    <!-- JavaScript Modules -->
    <script src="/socket.io/socket.io.js"></script>
    <script src="js/app.js"></script>
    <script src="js/quests.js"></script>
    <script src="js/managers.js"></script>
    <script src="js/realtime.js"></script>
    <script src="js/stats.js"></script>
    <script src="js/planning.js"></script>
    <script src="js/navigation.js"></script>
    <script src="js/init.js"></script>
  </body>
</html>
